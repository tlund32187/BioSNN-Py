# Logic Curriculum Feature Matrix

Scope: current repo state, with usage checks against `tasks/logic_gates/runner.py` (harness) and `TorchNetworkEngine`.

Status legend:
- `Yes`: actively used in the current code path.
- `Partial`: used only in a limited path (for this harness, primarily topology export).
- `No`: present in repo but not used by the harness path.

| Subsystem | Present in repo | Used by `tasks/logic_gates/runner.py` | Used by `TorchNetworkEngine` | File references |
|---|---|---|---|---|
| Neuron models + compartments | Compartment enum (`SOMA`, `DENDRITE`, `AIS`, `AXON`) and registered neuron models (`glif`, `adex_2c`, `adex_3c`, `lif_3c`). | `Partial` (harness builds topology with `adex_3c`/`lif_3c` for `topology.json` export; runtime logic loop does not step neuron-model APIs). | `Yes` (`PopulationSpec.model` is stepped each tick). | `src/biosnn/contracts/neurons.py:21`, `src/biosnn/biophysics/models/registry.py:15`, `src/biosnn/tasks/logic_gates/topologies.py:415`, `src/biosnn/tasks/logic_gates/runner.py:156`, `src/biosnn/simulation/network/specs.py:32`, `src/biosnn/simulation/engine/torch_network_engine.py:275` |
| Synapse models + delay/ring strategies + fused/event backends | Two synapse models: `DelayedCurrentSynapse` and `DelayedSparseMatmulSynapse`. Delay/ring options include dense/event-list/event-bucketed ring strategies and event-driven modes. Sparse backend includes fused SpMM vs event-driven paths, fused COO/CSR layout selection, and per-delay sparse storage controls. | `Partial` (harness topology export uses `DelayedSparseMatmulSynapse` via topology builders). | `Yes` (engine initializes/steps `ProjectionSpec.synapse` and compiles topology according to synapse requirements). | `src/biosnn/synapses/dynamics/delayed_current.py:57`, `src/biosnn/synapses/dynamics/delayed_current.py:35`, `src/biosnn/synapses/dynamics/delayed_sparse_matmul.py:88`, `src/biosnn/synapses/dynamics/delayed_sparse_matmul.py:39`, `src/biosnn/tasks/logic_gates/topologies.py:423`, `src/biosnn/simulation/network/specs.py:42`, `src/biosnn/simulation/engine/torch_network_engine.py:318`, `src/biosnn/simulation/engine/torch_network_engine.py:591` |
| Learning rules | Implemented rules: `ThreeFactorHebbianRule`, `ThreeFactorEligibilityStdpRule`, `RStdpEligibilityRule`, `MetaplasticProjectionRule`, `EligibilityTraceHebbianRule`. | `Partial` (harness uses `RStdpEligibilityRule` in rSTDP mode). | `Yes` (engine runs `ProjectionSpec.learning` each learn step). | `src/biosnn/learning/rules/three_factor_hebbian.py:27`, `src/biosnn/learning/rules/three_factor_eligibility_stdp.py:33`, `src/biosnn/learning/rules/rstdp_eligibility.py:35`, `src/biosnn/learning/rules/metaplastic_projection.py:34`, `src/biosnn/learning/rules/eligibility_trace_hebbian.py:38`, `src/biosnn/tasks/logic_gates/runner.py:1358`, `src/biosnn/simulation/network/specs.py:48`, `src/biosnn/simulation/engine/torch_network_engine.py:695` |
| Neuromodulator kinds | Canonical kinds: `DOPAMINE`, `ACETYLCHOLINE`, `NORADRENALINE`, `SEROTONIN`. | `Partial` (harness currently injects dopamine only). | `Yes` (engine collects configured kinds and routes release/sample flow). | `src/biosnn/contracts/modulators.py:20`, `src/biosnn/tasks/logic_gates/runner.py:1448`, `src/biosnn/simulation/engine/torch_network_engine.py:208`, `src/biosnn/simulation/engine/torch_network_engine.py:532` |
| Modulator fields (global + grid diffusion) | `GlobalScalarField` and `GridDiffusion2DField` are implemented and exported. | `No` (harness does not instantiate modulator field objects). | `Yes` (engine steps fields and samples them at population positions and edges). | `src/biosnn/neuromodulators/fields/global_scalar.py:24`, `src/biosnn/neuromodulators/fields/grid_diffusion_2d.py:34`, `src/biosnn/simulation/network/specs.py:55`, `src/biosnn/simulation/engine/torch_network_engine.py:383`, `src/biosnn/simulation/engine/torch_network_engine.py:2102` |
| Homeostasis rules | Homeostasis interface plus `RateEmaThresholdHomeostasis` implementation. | `No` | `Yes` (optional homeostasis is initialized and stepped each tick). | `src/biosnn/contracts/homeostasis.py:24`, `src/biosnn/learning/homeostasis/rate_ema_threshold.py:38`, `src/biosnn/simulation/engine/torch_network_engine.py:280`, `src/biosnn/simulation/engine/torch_network_engine.py:659` |
| Pruning + neurogenesis | Structural pruning manager/config and neurogenesis manager/config are implemented. | `No` | `Yes` when enabled in `SimulationConfig` (`enable_pruning`, `enable_neurogenesis`). | `src/biosnn/plasticity/structural/manager.py:16`, `src/biosnn/plasticity/structural/manager.py:39`, `src/biosnn/plasticity/structural/neurogenesis.py:17`, `src/biosnn/plasticity/structural/neurogenesis.py:42`, `src/biosnn/contracts/simulation.py:20`, `src/biosnn/contracts/simulation.py:29`, `src/biosnn/simulation/engine/torch_network_engine.py:237`, `src/biosnn/simulation/engine/torch_network_engine.py:253`, `src/biosnn/simulation/engine/torch_network_engine.py:1134` |

## Notes
- `tasks/logic_gates/runner.py` is a custom deterministic harness and does not instantiate `TorchNetworkEngine` directly.
- For logic-gate runs, topology builders are still used to export `topology.json`, which is why neuron/synapse rows are marked `Partial` instead of `No`.
